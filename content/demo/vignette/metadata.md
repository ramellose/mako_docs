---
title: "Calculate metadata correlations"
description: ""
lead: ""
date: 2021-04-19T11:49:26+02:00
lastmod: 2021-04-19T11:49:26+02:00
draft: false
images: []
menu: 
  demo:
    parent: "mako"
weight: 106
toc: true
---

The command below carries out hypergeometric tests to see if the metadata (skin vs gut) is linked to specific taxa. Note that this functionality is meant for exploratory analysis only and does not include multiple-testing corrections. Depending on the type of metadata available to you and the structure of your experimental design, more appropriate statistical methods may be available. The <code>-var all</code> parameter tells mako to run the tests across all variables. 

<code>mako metastats -fp . -cf -var all</code>

If you access the Neo4j Browser (<a href="http://localhost:7475/browser/">http://localhost:7475/browser/</a>) and run the following query, you should be able to access all taxa that were linked to the skin or gut samples via the hypergeometric test:

<code>```MATCH p=(n:Taxon)--(:Property) RETURN p LIMIT 50```</code>

<figure>
  <img src="/images/demo_4.PNG" alt="Metadata links to taxa." width="600"> 
  <figcaption>Figure 4: Metadata links to taxa.</figcaption>
</figure>

The query <code>MATCH p=(n:Taxon)--(:Property) RETURN p LIMIT 50</code> returns 50 patterns consisting of Taxon nodes connected to Property nodes. In this case, the only possible connections matching this pattern were previously generated by the hypergeometric test, as the name of the relationships indicates (Figure 4). 

